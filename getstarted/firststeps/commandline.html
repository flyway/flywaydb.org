---
layout: getStarted
menu: commandline
subtitle: Command-line - First Steps
---
<div id="firstStepsCommandLine">
    <h1>First Steps: Command-line</h1>

    <h2>Prerequisites</h2>
    <ul>
        <li>Java 6+</li>
    </ul>

    <h2>Downloading and extracting Flyway and H2</h2>

    <p>We start by <a href="http://repo1.maven.org/maven2/org/flywaydb/flyway-commandline/{{ site.flywayVersion }}/flyway-commandline-{{ site.flywayVersion }}.zip">downloading the Flyway Command-line Distribution</a> and extracting it.</p>

    <p>Let's jump into our new directory:</p>

    <pre class="console">&gt; cd flyway-{{ site.flywayVersion }}</pre>

    <p>We then <a href="http://repo1.maven.org/maven2/com/h2database/h2/1.3.170/h2-1.3.170.jar">download the H2 jar</a> and place it in the <code>/jars</code> subdirectory.</p>

    <h2>Configuring Flyway</h2>

    <p>We can now configure Flyway by editing <code>/conf/flyway.properties</code> to make it look like this:</p>
    <pre class="prettyprint">flyway.url=jdbc:h2:file:./foobardb
flyway.user=SA</pre>

    <h2>Initializing the flyway metadata table</h2>
    <p>At first we have to initialize the flyway metadata table:

    <pre class="console">flyway-{{ site.flywayVersion }}&gt; flyway init</pre>

    Which was our first migration with Version 1.

    <pre class="console">
Database: jdbc:h2:file:./foobardb (H2 1.3)
Creating Metadata table: "PUBLIC"."schema_version"
Schema initialized with version: 1</pre>

    <h2>Creating the first migration</h2>

    <p>Now we can create a first migration in the <code>/sql</code> directory called
        <code>V2__Create_person_table.sql</code>:</p>
    <pre class="prettyprint">create table PERSON (
    ID int not null,
    NAME varchar(100) not null
);</pre>

    <h2>Migrating the database</h2>

    <p>It's now time to execute Flyway to migrate our database:</p>

    <pre class="console">flyway-{{ site.flywayVersion }}&gt; flyway migrate</pre>

    <p>If all went well, you should see the following output:</p>
    <pre class="console">Creating Metadata table: "PUBLIC"."schema_version"
Database: jdbc:h2:file:./foobardb (H2 1.3)
Validated 2 migrations (execution time 00:00.027s)
Current version of schema "PUBLIC": 1
Migrating schema "PUBLIC" to version 2
Successfully applied 1 migration to schema "PUBLIC" (execution time 00:00.048s).</pre>

    <h2>Adding a second migration</h2>

    <p>If we now add a second migration to the <code>/sql</code> directory called <code>V3__Add_people.sql</code>:</p>
    <pre class="prettyprint">insert into PERSON (ID, NAME) values (1, 'Axel');
insert into PERSON (ID, NAME) values (2, 'Mr. Foo');
insert into PERSON (ID, NAME) values (3, 'Ms. Bar');</pre>

    <p>and execute it by issuing:</p>

    <pre class="console">flyway-{{ site.flywayVersion }}&gt; flyway migrate</pre>

    <p>We now get:</p>
    <pre class="console">Database: jdbc:h2:file:./foobardb (H2 1.3)
Validated 3 migrations (execution time 00:00.029s)
Current version of schema "PUBLIC": 2
Migrating schema "PUBLIC" to version 3
Successfully applied 1 migration to schema "PUBLIC" (execution time 00:00.048s)..</pre>

    <h2>Summary</h2>

    <p>In this brief tutorial we saw how to</p>
    <ul>
        <li>install the Flyway Command-line tool</li>
        <li>configure it so it can talk to our database</li>
        <li>write our first couple of migrations</li>
    </ul>
    <p>These migrations were then successfully found and executed.</p>

    <p class="next-steps">
        <a class="btn btn-primary" href="/documentation/commandline">Read the documentation <i class="fa fa-arrow-right"></i></a>
    </p>
</div>
